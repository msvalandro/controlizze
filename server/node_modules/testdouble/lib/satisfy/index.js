'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = satisfy;

var _findLastStubbingMatch = require('./find-last-stubbing-match');

var _findLastStubbingMatch2 = _interopRequireDefault(_findLastStubbingMatch);

var _invokeCallbacks = require('./invoke-callbacks');

var _invokeCallbacks2 = _interopRequireDefault(_invokeCallbacks);

var _notifyAfterSatisfaction = require('../matchers/notify-after-satisfaction');

var _notifyAfterSatisfaction2 = _interopRequireDefault(_notifyAfterSatisfaction);

var _deliverOutcome = require('./deliver-outcome');

var _deliverOutcome2 = _interopRequireDefault(_deliverOutcome);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function satisfy(double, call) {
  var stubbing = (0, _findLastStubbingMatch2.default)(double, call);
  if (stubbing) {
    stubbing.addSatisfyingCall(call);
    (0, _invokeCallbacks2.default)(stubbing, call);
    (0, _notifyAfterSatisfaction2.default)(stubbing.args, call.args);
    return (0, _deliverOutcome2.default)(stubbing, call);
  }
}